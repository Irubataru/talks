\documentclass[11pt,tikz]{standalone}
\usepackage{amsmath}
\usepackage{mathspec}
\usepackage{pgfplots}

\DeclareMathOperator{\real}{Re}

\input{../inputs/colours.tex}
\input{../inputs/plot_settings.tex}

\usepgfplotslibrary{groupplots}

\pgfplotsset{
  compat=1.16,
  every axis plot/.append style={
    only marks,
    error bars/y dir=both, error bars/y explicit,
    legend image post style={sharp plot,|-|},
    error bars/error bar style={
      line width=0.6pt,
    },
    error bars/error mark options={
      rotate=90,
      mark size=2pt,
      line width=0.6pt,
    },
    every mark/.append style={line width=1pt},
  }
}

\begin{document}
\begin{tikzpicture}
  \begin{groupplot}[
    group style={
      group size=2 by 1,
      x descriptions at=edge bottom,
      y descriptions at=edge left,
      horizontal sep=0pt,
    },
    xlabel={$\tau / a_{\tau}$},
    ylabel={$\overline{G}$},
    width=6cm,
    height=10cm,
    ymin=1.1e-3, ymax=1.2,
    ymode=log,
    scaled ticks=false,
    minor tick num=3,
    legend style={
      at={(0.98,0.98)},
      anchor=north east,
      cells={anchor=west, font=\fontsize{6pt}{6pt}\selectfont},
      scale=1,
      nodraw legend,
      row sep=0.2pt,
    },
    clip mode=individual,
    y post scale=0.75
  ]

    % Positive parity plots
    % ---------------------
    \nextgroupplot[xmin=0,xmax=24]
      % --- 48
      \addplot[
        ColourBase,
        mark=*,
        mark options={
          fill=ColourBase,
          scale=0.5,
        },
      ] table [
        x index=0,
        y expr=\thisrowno{1},
        y error expr=\thisrowno{2},
      ] {data/Gen2l_48x32.quadruplet.1fl.sss_two_ascii.dat};
      \addlegendentry{$T / T_c = 0.63$}

      % --- 40
      \addplot[
        ColourHl1,
        mark size=1,
        mark=square,
      ] table [
        x index=0,
        y expr=\thisrowno{1},
        y error expr=\thisrowno{2},
      ] {data/Gen2l_40x32.quadruplet.1fl.sss_two_ascii.dat};
      \addlegendentry{$T / T_c = 0.76$}

      % --- 36
      \addplot[
        ColourHl2,
        mark size=1,
        mark=triangle
      ] table [
        x index=0,
        y expr=\thisrowno{1},
        y error expr=\thisrowno{2},
        skip coords between index={18}{36}
      ] {data/Gen2l_36x32.quadruplet.1fl.sss_two_ascii.dat};
      \addlegendentry{$T / T_c = 0.84$}

      % --- 32
      \addplot[
        ColourHl3,
        mark size=1,
        mark=diamond,
      ] table [
        x index=0,
        y expr=\thisrowno{1},
        y error expr=\thisrowno{2},
        skip coords between index={16}{32}
      ] {data/Gen2l_32x32.quadruplet.1fl.sss_two_ascii.dat};
      \addlegendentry{$T / T_c = 0.95$}

      % --- 28
      \addplot[
        ColourDark2,
        mark size=1,
        mark=triangle,
        every mark/.append style={line width=1pt,rotate=180},
        forget plot,
      ] table [
        x index=0,
        y expr=\thisrowno{1},
        y error expr=\thisrowno{2},
        skip coords between index={14}{28}
      ] {data/Gen2l_28x32.quadruplet.1fl.sss_two_ascii.dat};

      % --- 24
      \addplot[
        ColourBase,
        mark size=1,
        mark=pentagon,
      ] table [
        x index=0,
        y expr=\thisrowno{1},
        y error expr=\thisrowno{2},
        skip coords between index={12}{24}
      ] {data/Gen2l_24x32.quadruplet.1fl.sss_two_ascii.dat};

      % --- 20
      \addplot[
        ColourHl1,
        mark size=1,
        mark=square,
        every mark/.append style={line width=1pt,rotate=45},
      ] table [
        x index=0,
        y expr=\thisrowno{1},
        y error expr=\thisrowno{2},
        skip coords between index={10}{20}
      ] {data/Gen2l_20x32.quadruplet.1fl.sss_two_ascii.dat};

      % --- 16
      \addplot[
        ColourHl2,
        mark=*,
        mark options={
          fill=ColourHl2,
          scale=0.5,
        },
      ] table [
        x index=0,
        y expr=\thisrowno{1},
        y error expr=\thisrowno{2},
        skip coords between index={8}{16}
      ] {data/Gen2l_16x32.quadruplet.1fl.sss_two_ascii.dat};


    % Negative parity plots
    % ---------------------
    \nextgroupplot[xmin=0,xmax=24]

      % --- 48
      \addplot[
        ColourBase,
        mark=*,
        mark options={
          fill=ColourBase,
          scale=0.5,
        },
        forget plot,
      ] table [
        x expr=\thisrowno{0} + 1,
        y expr=\thisrowno{3},
        y error expr=\thisrowno{4},
        skip coords between index={15}{48}
      ] {data/Gen2l_48x32.quadruplet.1fl.sss_two_ascii.dat};

      % --- 40
      \addplot[
        ColourHl1,
        mark size=1,
        mark=square,
        forget plot,
      ] table [
        x expr=\thisrowno{0} + 1,
        y expr=\thisrowno{3},
        y error expr=\thisrowno{4},
        skip coords between index={15}{30}
      ] {data/Gen2l_40x32.quadruplet.1fl.sss_two_ascii.dat};

      % --- 36
      \addplot[
        ColourHl2,
        mark size=1,
        mark=triangle,
        forget plot,
      ] table [
        x expr=\thisrowno{0} + 1,
        y expr=\thisrowno{3},
        y error expr=\thisrowno{4},
        skip coords between index={15}{36}
      ] {data/Gen2l_36x32.quadruplet.1fl.sss_two_ascii.dat};

      % --- 32
      \addplot[
        ColourHl3,
        mark size=1,
        mark=diamond,
        forget plot,
      ] table [
        x expr=\thisrowno{0} + 1,
        y expr=\thisrowno{3},
        y error expr=\thisrowno{4},
        skip coords between index={14}{32}
      ] {data/Gen2l_32x32.quadruplet.1fl.sss_two_ascii.dat};

      % --- 28
      \addplot[
        ColourDark2,
        mark size=1,
        mark=triangle,
        every mark/.append style={line width=1pt,rotate=180},
      ] table [
        x expr=\thisrowno{0} + 1,
        y expr=\thisrowno{3},
        y error expr=\thisrowno{4},
        skip coords between index={12}{24}
      ] {data/Gen2l_28x32.quadruplet.1fl.sss_two_ascii.dat};
      \addlegendentry{$T / T_c = 1.09$}


      % --- 24
      \addplot[
        ColourBase,
        mark size=1,
        mark=pentagon,
      ] table [
        x expr=\thisrowno{0} + 1,
        y expr=\thisrowno{3},
        y error expr=\thisrowno{4},
        skip coords between index={12}{24}
      ] {data/Gen2l_24x32.quadruplet.1fl.sss_two_ascii.dat};
      \addlegendentry{$T / T_c = 1.27$}

      % --- 20
      \addplot[
        ColourHl1,
        mark size=1,
        mark=square,
        every mark/.append style={line width=1pt,rotate=45},
      ] table [
        x expr=\thisrowno{0} + 1,
        y expr=\thisrowno{3},
        y error expr=\thisrowno{4},
        skip coords between index={10}{20}
      ] {data/Gen2l_20x32.quadruplet.1fl.sss_two_ascii.dat};
      \addlegendentry{$T / T_c = 1.52$}

      % --- 16
      \addplot[
        ColourHl2,
        mark=*,
        mark options={
          fill=ColourHl2,
          scale=0.5,
        },
      ] table [
        x expr=\thisrowno{0} + 1,
        y expr=\thisrowno{3},
        y error expr=\thisrowno{4},
        skip coords between index={8}{16}
      ] {data/Gen2l_16x32.quadruplet.1fl.sss_two_ascii.dat};
      \addlegendentry{$T / T_c = 1.90$}
  \end{groupplot}

  \node[anchor=south west] at (0.1,0.1) {$\text{parity}^+$};
  \node[anchor=south west] at (4.5,0.1) {$\text{parity}^-$};
  \node[anchor=south west, rotate=90] at (-0.1,-0.5) {$\Omega^{-}$};
\end{tikzpicture}%
\end{document} 
